import{j as e}from"./index-B2iC2mV1.js";import{r as t,L as c}from"./router-BDK15HzG.js";import{V as m}from"./virtual-table-DBXnPqra.js";import{f as r}from"./chunk-4X5ZEQ5K-B-QA3Nks.js";import{u as b}from"./virtual-C9-IbyhX.js";import"./utils-BrsFTMAM.js";import"./vendor-1zw1pNgy.js";const j=()=>e.jsxs("section",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Advanced Features"})}),e.jsx("div",{className:"mb-4 p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-indigo-800",children:[e.jsx("strong",{children:"Advanced Techniques:"})," Explore server-side pagination, progressive loading, background data processing, and other advanced patterns for handling massive datasets."]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"🔄 Server-Side Pagination"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Load data in chunks from the server to handle datasets larger than available memory."})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"📈 Progressive Loading"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Load more data as the user scrolls, providing infinite scroll functionality."})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"⚙️ Background Processing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use Web Workers to process large datasets without blocking the main thread."})]})]})]}),v=t.memo(j),y=()=>e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Best Practices"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"📊 Data Management"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Use memoization to prevent unnecessary data regeneration"}),e.jsx("li",{children:"• Implement efficient filtering and sorting algorithms"}),e.jsx("li",{children:"• Consider data pagination for datasets > 1M records"}),e.jsx("li",{children:"• Use freeze columns for important identifying information"}),e.jsx("li",{children:"• Optimize data structure for better performance"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"🎯 User Experience"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Provide loading indicators for data generation"}),e.jsx("li",{children:"• Show dataset size and loading progress"}),e.jsx("li",{children:"• Implement search with debouncing"}),e.jsx("li",{children:"• Use appropriate row heights for readability"}),e.jsx("li",{children:"• Consider virtual scrolling for smooth performance"})]})]})]})]}),N=t.memo(y),w=({title:s,code:i})=>e.jsxs("div",{className:"mt-4 border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-muted px-4 py-2 border-b",children:e.jsx("span",{className:"text-sm font-medium",children:s})}),e.jsx("pre",{className:"p-4 overflow-x-auto bg-background",children:e.jsx("code",{className:"text-sm",children:i})})]}),h=t.memo(w),x=s=>Array.from({length:s},(n,a)=>({id:a+1,name:r.person.fullName(),email:r.internet.email(),phone:r.phone.number(),department:r.commerce.department(),position:r.person.jobTitle(),salary:r.number.int({min:3e4,max:2e5}),startDate:r.date.past({years:10}).toISOString().split("T")[0],performance:r.number.int({min:1,max:5}),manager:r.person.fullName(),location:r.location.city(),country:r.location.country(),skills:r.helpers.arrayElements(["React","TypeScript","Node.js","Python","Java","C#","Go","Rust","Vue","Angular"],{min:2,max:6}),projects:r.number.int({min:1,max:20}),experience:r.number.int({min:0,max:15}),status:r.helpers.arrayElement(["Active","Inactive","On Leave","Terminated"]),lastLogin:r.date.recent({days:30}).toISOString()})),k=async s=>new Promise(i=>{setTimeout(()=>{const n=x(s);i(n)},100)}),g=()=>[{key:"id",caption:"ID",width:80,freeze:"left"},{key:"name",caption:"Name",width:200,freeze:"left"},{key:"email",caption:"Email",width:250},{key:"phone",caption:"Phone",width:150},{key:"department",caption:"Department",width:150},{key:"position",caption:"Position",width:180},{key:"salary",caption:"Salary",width:120,renderCell:s=>`$${s.salary.toLocaleString()}`},{key:"startDate",caption:"Start Date",width:120},{key:"performance",caption:"Rating",width:100},{key:"manager",caption:"Manager",width:180},{key:"location",caption:"Location",width:150},{key:"country",caption:"Country",width:120},{key:"status",caption:"Status",width:120,freeze:"right"}],u={basicUsage:`import { VirtualTable, type IHeader } from '@knitto/virtual-table';
import { useMemo } from 'react';

const LargeDatasetTable = () => {
  // Generate large dataset (1M records)
  const data = useMemo(() => {
    return Array.from({ length: 1000000 }, (_, index) => ({
      id: index + 1,
      name: faker.person.fullName(),
      email: faker.internet.email(),
      // ... other fields
    }));
  }, []);

  const headers: IHeader<(typeof data)[0]>[] = [
    { key: 'id', caption: 'ID', width: 80, freeze: 'left' },
    { key: 'name', caption: 'Name', width: 200, freeze: 'left' },
    { key: 'email', caption: 'Email', width: 250 },
    // ... other headers
  ];

  return (
    <VirtualTable
      headers={headers}
      data={data}
      rowKey="id"
      rowHeight={32}
      headerHeight={40}
      filterHeight={32}
    />
  );
};`,optimization:`// Performance optimization techniques

// 1. Memoize data generation
const data = useMemo(() => generateLargeDataset(1000000), []);

// 2. Use freeze columns for important data
const headers = [
  { key: 'id', caption: 'ID', width: 80, freeze: 'left' },
  { key: 'name', caption: 'Name', width: 200, freeze: 'left' },
  // ... other columns
];

// 3. Optimize row height
<VirtualTable
  rowHeight={32} // Fixed height for better performance
  // ... other props
/>

// 4. Use efficient filtering
const filteredData = useMemo(() => {
  return data.filter(item => 
    item.name.toLowerCase().includes(searchTerm.toLowerCase())
  );
}, [data, searchTerm]);`},S=[{metric:"Initial Render Time",value:"< 100ms",description:"Time to render the first visible rows regardless of dataset size"},{metric:"Memory Usage",value:"~2-5MB",description:"Constant memory usage regardless of dataset size (only visible rows in DOM)"},{metric:"Scroll Performance",value:"60 FPS",description:"Smooth scrolling with virtual scrolling technology"},{metric:"Search/Filter Speed",value:"Instant",description:"Client-side filtering with optimized algorithms"},{metric:"Sort Performance",value:"< 50ms",description:"Efficient sorting algorithms for large datasets"}],M=()=>{const[s,i]=t.useState(!1),[n,a]=t.useState(!1),[d,o]=t.useState([]),l=g(),p=t.useCallback(async()=>{a(!0);const f=await k(1e5);o(f),a(!1)},[]);return e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Large Dataset (100,000 records)"}),e.jsx("button",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2",onClick:()=>i(!s),children:s?"Hide Code":"Show Code"})]}),e.jsx("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:"Example:"})," 100,000 employee records. Click the button below to generate the dataset. Notice how the table maintains smooth performance even with this large dataset."]})}),e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx("button",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2",disabled:n,onClick:p,children:n?"Generating...":"Generate 100K Records"}),d.length>0&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Loaded: ",d.length.toLocaleString()," records"]})]}),d.length>0&&e.jsx("div",{className:"h-96",children:e.jsx(m,{data:d,filterHeight:32,headerHeight:40,headers:l,rowHeight:32,rowKey:"id"})}),s&&e.jsx(h,{code:u.optimization,title:"Performance Optimization Techniques"})]})},z=t.memo(M),D=({data:s})=>{const[i,n]=t.useState(!1),a=g();return e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Medium Dataset (10,000 records)"}),e.jsx("button",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2",onClick:()=>n(!i),children:i?"Hide Code":"Show Code"})]}),e.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("strong",{children:"Example:"})," 10,000 employee records with freeze columns for ID and Name. This demonstrates smooth performance with a substantial dataset."]})}),e.jsx("div",{className:"h-96",children:e.jsx(m,{data:s,filterHeight:32,headerHeight:40,headers:a,rowHeight:32,rowKey:"id"})}),i&&e.jsx(h,{code:u.basicUsage,title:"Basic Large Dataset Implementation"})]})},C=t.memo(D),P=()=>e.jsxs("section",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Memory Management"})}),e.jsx("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-800",children:[e.jsx("strong",{children:"Memory Optimization:"})," Learn advanced techniques for managing memory usage with very large datasets, including lazy loading, progressive loading, and background processing."]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"🧠 Memory Benefits"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Only visible rows are rendered in DOM"}),e.jsx("li",{children:"• Constant memory usage regardless of dataset size"}),e.jsx("li",{children:"• Automatic cleanup of off-screen elements"}),e.jsx("li",{children:"• Efficient garbage collection"}),e.jsx("li",{children:"• No memory leaks with proper implementation"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"⚡ Performance Tips"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Use memoization for data generation"}),e.jsx("li",{children:"• Implement debounced search/filtering"}),e.jsx("li",{children:"• Freeze important columns for better UX"}),e.jsx("li",{children:"• Use fixed row heights for optimal performance"}),e.jsx("li",{children:"• Consider server-side pagination for 1M+ records"})]})]})]})]}),L=t.memo(P),T=()=>e.jsx("section",{children:e.jsxs("div",{className:"rounded-lg border bg-muted/50 p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"🚀 Next Steps"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ready to implement large dataset handling? Explore these related features:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(c,{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 px-3",to:"/docs/examples/freeze-column",children:"Freeze Columns"}),e.jsx(c,{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 px-3",to:"/docs/examples/header-grouping",children:"Header Grouping"}),e.jsx(c,{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 px-3",to:"/docs/examples/server-filter",children:"Advanced Filtering"})]})]})});t.memo(T);const E=()=>e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Performance Metrics"}),e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-muted px-4 py-2 border-b",children:e.jsx("span",{className:"text-sm font-medium",children:"Benchmark Results (1M records)"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"< 100ms"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Initial Render"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"~2-5MB"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Memory Usage"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"60 FPS"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Scroll Performance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"< 50ms"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Search/Filter"})]})]})})]})]}),H=t.memo(E),A=[{key:"metric",caption:"Metric",width:200},{key:"value",caption:"Value",width:150},{key:"description",caption:"Description",width:300}],I=()=>e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold tracking-tight mb-4",children:"Performance Overview"}),e.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Virtual Table Performance:"})," The virtual table is specifically designed to handle massive datasets efficiently. It uses virtual scrolling to render only visible rows, maintaining constant memory usage regardless of dataset size."]})}),e.jsx("div",{className:"h-64",children:e.jsx(m,{data:S,filterHeight:32,headerHeight:40,headers:A,rowHeight:40,rowKey:"metric"})})]}),O=t.memo(I),R=()=>{var d;const s=t.useRef(null),i=b({count:8,estimateSize:()=>600,overscan:2,scrollMargin:((d=s.current)==null?void 0:d.offsetTop)??0,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?o=>o.getBoundingClientRect().height:void 0}),n=t.useMemo(()=>x(1e4),[]),a=[e.jsx(O,{}),e.jsx(C,{data:n}),e.jsx(z,{}),e.jsx(L,{}),e.jsx(v,{}),e.jsx(N,{}),e.jsx(H,{})];return e.jsxs("div",{ref:s,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Large Datasets"}),e.jsx("p",{className:"text-xl text-muted-foreground mt-4",children:"Learn how to handle massive datasets (1M+ records) with virtual table's advanced performance optimizations and memory management techniques."})]}),e.jsx("div",{style:{height:i.getTotalSize(),width:"100%",position:"relative"},children:i.getVirtualItems().map(o=>e.jsx("div",{"data-index":o.index,ref:l=>i.measureElement(l),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${o.start-i.options.scrollMargin}px)`},children:a[o.index]},o.key))})]})},K=t.memo(R);export{K as default};
//# sourceMappingURL=index-DRUY85Mm.js.map
