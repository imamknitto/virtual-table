<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script>
      // GitHub Pages SPA redirect workaround
      // When a user navigates to a route and refreshes, GitHub Pages serves 404.html
      // This script captures the path and redirects to index.html with the path preserved
      (function () {
        var pathSegmentsToKeep = 1; // For repo deployed to /virtual-table/

        var location = window.location;
        var pathArray = location.pathname.split('/').filter(function(segment) {
          return segment !== '';
        });

        // Get the path after removing the base segment (virtual-table)
        var redirectPath = '';
        if (pathArray.length > pathSegmentsToKeep) {
          redirectPath = '/' + pathArray.slice(pathSegmentsToKeep).join('/');
        }
        
        // Store the redirect path in sessionStorage
        var fullRedirectPath = redirectPath + location.search + location.hash;
        sessionStorage.setItem('redirectPath', fullRedirectPath);

        // Redirect to index.html at the base path
        var basePath = '/' + pathArray.slice(0, pathSegmentsToKeep).join('/') + '/';
        location.replace(
          location.protocol +
            '//' +
            location.hostname +
            (location.port ? ':' + location.port : '') +
            basePath
        );
      })();
    </script>
  </head>
  <body></body>
</html>

